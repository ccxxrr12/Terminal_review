欧拉函数、欧拉定理、费马小定理和威尔逊定理是数论中非常核心的内容，它们不仅在理论推导中作用重大，在密码学、计算机科学等领域也有广泛应用。下面我们逐一梳理，并结合例题加深理解。

> 为了更清晰地把握这四个定理的联系与区别，请看下表：

| 定理名称 | 核心描述 | 公式/表述 | 关键条件 |
| :--- | :--- | :--- | :--- |
| **欧拉函数 φ(n)** | 小于等于 n 的正整数中与 n 互质的数的个数。 | 例如 φ(8) = 4 (因1,3,5,7与8互质) | n 为正整数 |
| **欧拉定理** | 揭示互质的整数 a 和 n 在模 n 下的幂次循环关系。 | a^φ(n) ≡ 1 (mod n) | gcd(a, n) = 1 |
| **费马小定理** | 欧拉定理在模数 n 为质数时的特例。 | a^(p-1) ≡ 1 (mod p) | p 为质数, gcd(a, p)=1 |
| **威尔逊定理** | 给出了一个整数是质数的充要条件。 | (p-1)! ≡ -1 (mod p) | p 为质数 |

### 📘 欧拉函数 (Euler's Totient Function)

欧拉函数 φ(n) 在数论中表示小于等于正整数 n 的数中与 n **互质**（即最大公约数为1）的数的个数。例如，φ(8) = 4，因为1, 3, 5, 7这4个数与8互质 。

**主要性质：**
*   如果 p 是质数，则 φ(p) = p - 1 。
*   如果 p 是质数，k ≥ 1，则 φ(p^k) = p^k - p^(k-1) = p^k (1 - 1/p) 。例如，φ(8) = φ(2^3) = 2^3 - 2^2 = 4 。
*   **积性函数**：如果两个正整数 m 和 n 互质 (gcd(m,n)=1)，那么 φ(mn) = φ(m) φ(n) 。
*   如果 n 的标准质因数分解为 n = p1^k1 * p2^k2 * ... * pr^kr，那么 φ(n) = n (1 - 1/p1) (1 - 1/p2) ... (1 - 1/pr) 。例如，φ(12) = 12 × (1 - 1/2) × (1 - 1/3) = 4。

**例题：计算 φ(36)**
我们可以利用欧拉函数是积性函数的性质，或者其通式来计算。
**解法1（利用积性）**：36 = 4 × 9 = 2^2 × 3^2，且4和9互质，所以 φ(36) = φ(4) × φ(9) = (4-2) × (9-3) = 2 × 6 = 12。
**解法2（利用通式）**：36 = 2^2 × 3^2，所以 φ(36) = 36 × (1 - 1/2) × (1 - 1/3) = 36 × (1/2) × (2/3) = 12。
所以，小于等于36的正整数中，有12个数与36互质。

### 📗 欧拉定理 (Euler's Theorem)

欧拉定理是数论中的一个基石。若正整数 a 与 n **互质**（即 gcd(a, n) = 1），则 a^φ(n) ≡ 1 (mod n) 。
当 n 是质数 p 时，φ(p) = p-1，欧拉定理就转化为下面要介绍的费马小定理。

欧拉定理的一个强大应用是简化大数幂的模运算。

**例题：求 7^222 的个位数**
求一个数的个位数，等价于求它除以10的余数，即计算 7^222 mod 10。
1.  因为7和10互质，我们可以应用欧拉定理。φ(10) = 4（因为1,3,7,9与10互质）。
2.  根据欧拉定理，7^4 ≡ 1 (mod 10)。
3.  将222按4进行分解：222 = 4 × 55 + 2。
4.  所以，7^222 ≡ 7^(4×55 + 2) ≡ (7^4)^55 × 7^2 ≡ 1^55 × 7^2 ≡ 49 ≡ 9 (mod 10) 。
所以，7^222 的个位数是 **9**。

### 📕 费马小定理 (Fermat's Little Theorem)

费马小定理是欧拉定理的一个特例。若 p 是一个**质数**，且整数 a 不是 p 的倍数（即 gcd(a, p)=1），则有 a^(p-1) ≡ 1 (mod p) 。
它同样可用于简化模质数意义下的幂运算。

**例题：求 2^100 除以 13 的余数**
1.  13是质数，2不是13的倍数，满足费马小定理条件。
2.  根据定理，2^12 ≡ 1 (mod 13) 。
3.  将100按12分解：100 = 12 × 8 + 4。
4.  所以，2^100 ≡ 2^(12×8 + 4) ≡ (2^12)^8 × 2^4 ≡ 1^8 × 16 ≡ 3 (mod 13)。
所以，余数是 **3**。

### 📙 威尔逊定理 (Wilson's Theorem)

威尔逊定理提供了一个判别质数的方法。正整数 p (p > 1) 是**质数**的充要条件是 (p-1)! ≡ -1 (mod p) 。
例如，p=5是质数，(5-1)! = 24，24 mod 5 = 4，而 -1 mod 5 = 4，所以 24 ≡ -1 (mod 5)。
需要注意的是，由于阶乘增长极快，这个定理主要用于理论推导，实际判定大数是否素性效率很低。

**例题：若 p 是质数，求证 (p-2)! ≡ 1 (mod p)**
**证明**：
1.  根据威尔逊定理，有 (p-1)! ≡ -1 (mod p)。
2.  而 (p-1)! = (p-1) × (p-2)!。
3.  所以，(p-1) × (p-2)! ≡ -1 (mod p)。
4.  因为 p 是质数，且 p 与 p-1 互质，所以 p-1 在模 p 下有乘法逆元。同时，注意到 p-1 ≡ -1 (mod p)。
5.  将第3步中的同余式两边同时乘以 (p-1)的逆元，或者直接代入：由于 -1 ≡ p-1 (mod p)，所以上式即为 (-1) × (p-2)! ≡ -1 (mod p)。
6.  两边同时乘以 -1（因为-1与p互质），得到 (p-2)! ≡ 1 (mod p)。
证毕。

### 💎 总结
这些定理是数论王冠上的宝石：
*   **欧拉函数**是基础工具，用于度量与n互质的数的数量。
*   **欧拉定理**在模运算的化简中极为强大，特别是处理大指数时。
*   **费马小定理**是欧拉定理在模数为质数时的特殊情形，形式更简洁，应用广泛。
*   **威尔逊定理**是一个漂亮的素数判定准则，虽然实际计算用途有限，但理论价值很高。

希望这些解释和例题能帮助你更好地掌握它们。如果你有具体题目想尝试，我很乐意和你一起探讨。