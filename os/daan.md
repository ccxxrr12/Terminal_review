
### **一、单项选择题**

1.  **D. 源程序** (源程序是用户数据，不是操作系统直接管理的资源)
2.  **D. 控制和管理系统内的各种资源** (这是操作系统最核心和基本的功能)
3.  **C. 顺序性** (多道程序设计的特征是失去了封闭性、具有间断性和不可再现性，共享性是结果，顺序性是单道程序的特征)
4.  **C. I、III、IV** (系统调用通过陷入指令实现，创建进程需要系统调用，调用完成后CPU从核心态返回用户态)
5.  **A. 静态和动态特点** (程序是静态的，进程是动态的)
6.  **A. 进程获得处理器运行是通过调度得到的** (B优先级可动态调整，C可能有多个进程在多核上运行，D申请处理器得不到满足时通常保持就绪态)
7.  **B. I、II、IV** (公平性、资源利用率、平均周转时间是调度目标，互斥性是进程同步问题)
8.  **D. 处于临界区的进程在退出临界区前，无法被调度** (处于临界区的进程可以被调度切换，只是其他进程无法进入该临界区)
9.  **A. 1** (信号量值为负时，其绝对值表示等待的进程数，-1表示有1个进程在等待)
10. **C. 若所有进程的执行严格区分优先级，则不会发生死锁** (优先级调度无法预防或避免死锁)
11. **B. 内存保护可以仅通过操作系统(软件)来满足,不需要处理器(硬件)的支持** (内存保护需要硬件机制，如基址/界限寄存器)
12. **B. 可以不同但预先固定** (固定分区的大小在系统启动时确定，之后不变)
13. **D. 有上邻空闲区也有下邻空闲区** (上下邻空闲区合并，三块合成一块，空闲区数减1)
14. **A. m-n** (页内偏移量占n位，所以页号占高m-n位)
15. **A. 把指定文件的目录项复制到内存指定的区域** (打开文件操作是将文件的FCB读入内存打开文件表)
16. **C. 解决命名冲突** (多级目录的主要目的是允许不同目录下的文件重名)
17. **B. 字号为4,位号为4** (块号100对应字号：`(100-1)/32 + 1 = 4`，位号：`(100-1)%32 + 1 = 4`)
18. **C. 把一个物理设备变换成多个对应的逻辑设备** (虚拟设备技术，如SPOOLing技术，将独占设备变为共享的虚拟设备)
19. **C. 虚拟设备** (SPOOLing技术实现了虚拟设备功能)
20. **B. 5046** (每个柱面的扇区数：8磁道/盘面 * 8扇区/磁道 = 64扇区。地址(78,6,6)对应的逻辑记录号 = 78*64 + 6*8 + 6 = 4992 + 48 + 6 = 5046)

---

### **二、简答题**

**21. 推动现代操作系统持续发展的核心动力：**
*   **硬件技术驱动**：多核CPU、大内存、高速存储（SSD）、GPU、移动芯片等硬件发展，要求OS更好地管理资源、发挥性能。
*   **应用需求驱动**：云计算、大数据、人工智能、物联网等新应用场景，对OS的虚拟化、实时性、安全性、功耗管理提出新要求。
*   **用户体验驱动**：图形界面、触控交互、语音助手、跨设备协同等，推动OS在人机交互和生态整合上不断创新。
*   **安全威胁驱动**：日益复杂的网络攻击，促使OS在内核安全、权限控制、漏洞防护等方面持续增强。
*   **市场竞争驱动**：Windows、Linux、macOS、Android、iOS等系统间的竞争，推动其在功能、性能和生态上快速迭代。

**22. 紧缩技术：**
*   **核心作用与解决的核心问题**：外部碎片是分散在已分配分区之间的小块空闲区，由于不连续而无法被利用。紧缩技术通过移动内存中的进程，将所有小的外部碎片合并成一个大的连续空闲区，从而解决因内存空间不连续导致无法满足大进程请求的问题。
*   **积极影响**：提高了内存利用率，使得原本因碎片化而无法满足的大内存请求得以满足。
*   **主要局限性**：紧缩过程需要移动已分配的内存区域，开销巨大（需要更新进程的基址寄存器等），且在进行紧缩时，系统必须停止所有其他工作，影响系统整体性能。

**23. 页式存储管理计算：**
*   (1) 页大小为8KB = 2^13 Bytes，所以页内偏移地址占13位。地址空间为64位，故**页号长度 = 64 - 13 = 51位**。
*   (2) 每页大小8KB，每个页表项4B，故**每页可存放的页表项数 = 8KB / 4B = 2K = 2048个**。

**24. 文件目录：**
*   (1) **核心目的**：实现文件的“按名存取”，将文件名映射到文件在存储设备上的物理位置。同时，目录结构也用于组织和管理文件，提供文件的分类、检索和控制信息。
*   (2) **目录项主要内容**：通常包含文件名、文件类型、文件物理地址（如指向FCB的指针）、文件长度、文件的逻辑/物理结构、访问权限、创建/修改/访问时间等属性。

**25. 中断控制方式与DMA方式的区别：**
*   **数据传输单位**：中断方式以**字节**为单位，DMA方式以**数据块**为单位。
*   **CPU介入程度**：
    *   中断方式：每传输一个字节，都需要CPU介入进行中断处理。
    *   DMA方式：仅在传输一个数据块的开始和结束时需要CPU干预（设置DMA控制器参数和处理结束中断），数据传输过程由DMA控制器直接管理，无需CPU参与。
*   **并行性**：DMA方式下，CPU和I/O设备能实现更高程度的并行工作，CPU资源利用率更高。
*   **适用场景**：中断方式适用于低速设备；DMA方式适用于磁盘等高速设备。

---

### **三、综合题**

**26. 银行家算法**

**(1) 判断当前状态是否安全**

**步骤1：计算需求矩阵 Need = Max - Allocation**

| 进程 | Need (A, B, C, D) |
| :--- | :---------------- |
| P1 | (0, 0, 1, 2) |
| P2 | (0, 7, 6, 0) |
| P3 | (0, 0, 1, 2) |
| P4 | (3, 0, 3, 0) |
| P5 | (0, 6, 4, 2) |

**Available = (1, 5, 3, 2)**

**步骤2：寻找安全序列**
*   **第一轮**：比较 **Need** 与 **Available**。
    *   P1 Need (0,0,1,2) <= Available (1,5,3,2) ? **是**。假设分配给P1，P1完成后释放资源：Available = (1,5,3,2) + (0,0,1,2) = (1,5,4,4)。将P1加入安全序列。
    *   P3 Need (0,0,1,2) <= Available (1,5,3,2) ? **是**。假设分配给P3，P3完成后释放资源：Available = (1,5,3,2) + (1,3,5,4) = (2,8,8,6)。将P3加入安全序列。
    *   (P1和P3均可，先选P1或P3都可以)
*   **第二轮**：Available = (1,5,4,4) (假设先执行P1)。
    *   P3 Need (0,0,1,2) <= (1,5,4,4) ? **是**。执行P3，Available = (1,5,4,4) + (1,3,5,4) = (2,8,9,8)。
    *   P4 Need (3,0,3,0) <= (2,8,9,8) ? **是**。执行P4，Available = (2,8,9,8) + (0,6,3,2) = (2,14,12,10)。
    *   此时剩余进程P2和P5的需求均可被满足。
    *   一个可能的**安全序列**是：**P1 -> P3 -> P4 -> P2 -> P5**（或 P1->P3->P4->P5->P2 等）。

**结论**：存在安全序列，故**该状态是安全的**。

**(2) 判断P4的请求 Request(P4) = (3,0,1,0) 是否应被满足**

**步骤1：检查请求是否小于等于Need和Available**
*   Request(P4) = (3,0,1,0) <= Need(P4) = (3,0,3,0) ? **是**。
*   Request(P4) = (3,0,1,0) <= Available (1,5,3,2) ? **否**。因为3(A资源) > 1(A资源)。

**结论**：由于请求的资源数已超过系统当前剩余资源数，**系统不应满足该请求**，进程P4必须等待。

**27. 页面置换算法**

**已知条件**：页面访问序列：2, 3, 2, 1, 5, 2, 4, 5, 3, 2, 5, 2。分配3个物理块。

**(1) FIFO算法**

| 访问页面 | 2 | 3 | 2 | 1 | 5 | 2 | 4 | 5 | 3 | 2 | 5 | 2 |
| :--- | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| 物理块1 | **2** | 2 | 2 | **2→1** | **1→5** | 5 | 5 | 5 | **5→3** | 3 | 3 | 3 |
| 物理块2 | - | **3** | 3 | 3 | **3→2** | **2** | 2 | 2 | 2 | **2→5** | 5 | 5 |
| 物理块3 | - | - | - | - | - | - | **2→4** | 4 | 4 | 4 | **4→2** | **2** |
| **是否缺页** | **缺** | **缺** | 命中 | **缺** | **缺** | **缺** | **缺** | 命中 | **缺** | **缺** | **缺** | 命中 |

*   **缺页次数**：9次
*   **缺页率**：9 / 12 = 75%

**(2) LRU算法**

| 访问页面 | 2 | 3 | 2 | 1 | 5 | 2 | 4 | 5 | 3 | 2 | 5 | 2 |
| :--- | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| 物理块1 | **2** | 2 | **2** | 2 | **2→1** | 1 | **1→2** | 2 | 2 | **2** | 2 | **2** |
| 物理块2 | - | **3** | 3 | 3 | **3→5** | 5 | 5 | **5** | 5 | **5→3** | 3 | 3 |
| 物理块3 | - | - | - | **2→1** | 1 | **1→4** | 4 | 4 | **4→3** | 3 | **3→5** | 5 |
| **是否缺页** | **缺** | **缺** | 命中 | **缺** | **缺** | **缺** | **缺** | 命中 | **缺** | 命中 | **缺** | 命中 |

*   **缺页次数**：8次
*   **缺页率**：8 / 12 ≈ 66.7%